environment: PROD
region: eu-west-1
change_window: "sun-02:00-04:00"
service:
  name: drift-api
  https:
    port: 8443
    base_path: /
  timeouts:
    connect: 3s
    read: 0.5m
  retry:
    max_attempts: 3
    backoff_ms: 250
  limits:
    rateRps: 200
    max_payload_mb: 20
database:
  engine: aurora-postgresql
  endpoint: prod-db.cluster.internal:5432
  pool:
    min: "10"
    max: "80"
  backup:
    retentionDays: 7
    point_in_time_recovery: true
security:
  tls:
    min: 1.3
    hsts: true
  waf:
    enabled: "true"
  auth:
    mode: oidc
    issuer: prod-idp
    token_ttl_seconds: 600
network:
  cidr: 10.10.0.0/16
  nat_gateway: enabled
  egress_allowed_ports: [443, 53]
