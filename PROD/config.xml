<?xml version="1.0" encoding="UTF-8"?>

<appConfig xmlns="http://example.org/appconfig/v1"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://example.org/appconfig/v1 appconfig-v1.xsd">

  <meta>
    <app>
      <name>Acme-Orion</name>
      <systemId>orion</systemId>
      <environment>PROD</environment>
      <region>ap-south-1</region>
      <ownerTeam>platform-observability</ownerTeam>
      <costCenter>CC-OPS-1042</costCenter>
      <build>
        <version>2.17.0</version>
        <gitCommit>0b2f71e2f81c4fd0b0c7d9f12a3b4c5d6e7f8a90</gitCommit>
        <buildDate>2026-02-02</buildDate>
        <artifact>orion-service.jar</artifact>
      </build>
    </app>

    <runtime>
      <timezone>Asia/Kolkata</timezone>
      <locale>en_IN</locale>
      <startMode>clustered</startMode>
      <minInstances>6</minInstances>
      <maxInstances>28</maxInstances>
      <shutdownGraceSeconds>60</shutdownGraceSeconds>
    </runtime>

    <contacts>
      <onCall>
        <primary>orion-prod-oncall</primary>
        <secondary>orion-platform-backup</secondary>
      </onCall>
      <slack>
        <channel>#orion-prod-alerts</channel>
        <webhookSecretRef>secret://slack/prod/orion-alerts</webhookSecretRef>
      </slack>
      <email>
        <distributionList>orion-prod@acme.example</distributionList>
      </email>
    </contacts>
  </meta>

  <global>
    <maintenanceMode enabled="false">
      <bannerText>Production maintenance in progress.</bannerText>
      <allowedIps>

        <ip>10.20.0.0/16</ip>
        <ip>172.20.0.0/16</ip>
      </allowedIps>
    </maintenanceMode>

    <idGeneration>
      <strategy>snowflake</strategy>
      <nodeId>31</nodeId>
      <datacenterId>3</datacenterId>
    </idGeneration>

    <clockSkew>
      <maxAllowedSeconds>3</maxAllowedSeconds>
      <rejectIfBeyond>true</rejectIfBeyond>
    </clockSkew>

    <headers>
      <default>
        <header name="X-App-Name" value="Acme-Orion"/>
        <header name="X-Env" value="PROD"/>
        <header name="X-Region" value="ap-south-1"/>
      </default>
      <forwarded>
        <honorXForwardedFor>true</honorXForwardedFor>
        <trustedProxies>
          <cidr>10.20.0.0/16</cidr>
          <cidr>172.20.0.0/16</cidr>
        </trustedProxies>
      </forwarded>
    </headers>
  </global>

  <http>
    <server>
      <listenHost>0.0.0.0</listenHost>
      <listenPort>8080</listenPort>
      <adminPort>9080</adminPort>
      <contextPath>/orion</contextPath>

      <tls enabled="true">
        <protocols>
          <protocol>TLSv1.2</protocol>
          <protocol>TLSv1.3</protocol>
        </protocols>
        <keystore>
          <type>PKCS12</type>
          <path>/etc/orion/prod/tls/orion-prod.p12</path>
          <passwordRef>secret://tls/orion/prod/keystore_password</passwordRef>
        </keystore>
        <truststore>
          <type>JKS</type>
          <path>/etc/orion/prod/tls/truststore.jks</path>
          <passwordRef>secret://tls/orion/prod/truststore_password</passwordRef>
        </truststore>
        <clientAuth>required</clientAuth>
      </tls>

      <compression enabled="true">
        <minSizeBytes>4096</minSizeBytes>
        <mimeTypes>
          <mime>application/json</mime>
          <mime>application/xml</mime>
          <mime>text/plain</mime>
        </mimeTypes>
      </compression>

      <limits>
        <maxHeaderSizeBytes>32768</maxHeaderSizeBytes>
        <maxRequestSizeBytes>8388608</maxRequestSizeBytes>
        <maxFormContentSizeBytes>4194304</maxFormContentSizeBytes>
        <maxConnections>20000</maxConnections>
        <idleTimeoutMs>60000</idleTimeoutMs>
        <requestTimeoutMs>40000</requestTimeoutMs>
        <keepAlive enabled="true">
          <maxRequestsPerConnection>1000</maxRequestsPerConnection>
        </keepAlive>
      </limits>
    </server>

    <clientDefaults>
      <connectTimeoutMs>2000</connectTimeoutMs>
      <readTimeoutMs>8000</readTimeoutMs>
      <maxRetries>1</maxRetries>
      <retryBackoffMs>250</retryBackoffMs>
      <circuitBreaker>
        <enabled>true</enabled>
        <failureThreshold>8</failureThreshold>
        <rollingWindowSeconds>30</rollingWindowSeconds>
        <openStateSeconds>40</openStateSeconds>
        <halfOpenMaxCalls>4</halfOpenMaxCalls>
      </circuitBreaker>
    </clientDefaults>
  </http>

  <security>
    <auth>
      <mode>OIDC</mode>
      <oidc>
        <issuer>https://idp.acme.example/oauth2/default</issuer>
        <jwksUri>https://idp.acme.example/oauth2/default/v1/keys</jwksUri>
        <audience>orion</audience>
        <clientId>orion-prod-web</clientId>
        <clientSecretRef>secret://oidc/prod/orion_web_client_secret</clientSecretRef>
        <scopes>
          <scope>openid</scope>
          <scope>profile</scope>
          <scope>email</scope>
          <scope>groups</scope>
        </scopes>
        <claims>
          <subject>sub</subject>
          <email>email</email>
          <groups>groups</groups>
        </claims>
        <clockSkewSeconds>5</clockSkewSeconds>
      </oidc>

      <jwt>
        <algorithm>RS256</algorithm>
        <required>true</required>
        <allowInQueryParam>false</allowInQueryParam>
        <headerName>Authorization</headerName>
        <tokenPrefix>Bearer </tokenPrefix>
      </jwt>
    </auth>

    <authorization>
      <rbac enabled="true">
        <defaultRole>viewer</defaultRole>
        <roles>
          <role name="viewer">
            <permissions>
              <permission>read:dashboards</permission>
              <permission>read:reports</permission>
              <permission>read:configs</permission>
            </permissions>
          </role>

          <role name="analyst">
            <permissions>
              <permission>read:dashboards</permission>
              <permission>read:reports</permission>
              <permission>write:feedback</permission>
              <permission>read:anomalies</permission>
              <permission>read:rca</permission>
            </permissions>
          </role>

          <role name="admin">
            <permissions>
              <permission>*</permission>
            </permissions>
            <requiresMfa>true</requiresMfa>
          </role>
        </roles>

        <groupMappings>
          <mapping group="orion-prod-viewers" role="viewer"/>
          <mapping group="orion-prod-analysts" role="analyst"/>
          <mapping group="orion-prod-admins" role="admin"/>
        </groupMappings>
      </rbac>

      <ipAllowlist enabled="true">
        <allowedCidrs>
          <cidr>10.20.0.0/16</cidr>
          <cidr>172.20.0.0/16</cidr>
        </allowedCidrs>
      </ipAllowlist>
    </authorization>

    <secrets>
      <provider>file</provider>
      <fileProvider>
        <basePath>/etc/orion/prod/secrets</basePath>
        <fileMode>0400</fileMode>
      </fileProvider>
      <redaction>
        <enabled>true</enabled>
        <patterns>
          <pattern>\bAKIA[0-9A-Z]{16}\b</pattern>
          <pattern>\b(?:password|passwd|pwd)\s*=\s*[^&amp;\s]+\b</pattern>
          <pattern>\bBearer\s+[A-Za-z0-9\-_]+\.[A-Za-z0-9\-_]+\.[A-Za-z0-9\-_]+\b</pattern>
        </patterns>
      </redaction>
    </secrets>
  </security>

  <datastores>
    <postgres name="primary">
      <host>pg-prod.acme.example</host>
      <port>5432</port>
      <database>orion</database>
      <schema>public</schema>
      <username>orion_app</username>
      <passwordRef>secret://db/prod/orion_app_password</passwordRef>

      <pool>
        <minConnections>10</minConnections>
        <maxConnections>120</maxConnections>
        <connectionTimeoutMs>2500</connectionTimeoutMs>
        <idleTimeoutMs>600000</idleTimeoutMs>
        <maxLifetimeMs>1800000</maxLifetimeMs>
        <validationQuery>SELECT 1</validationQuery>
      </pool>

      <ssl>
        <enabled>true</enabled>
        <mode>verify-full</mode>
        <rootCertPath>/etc/orion/prod/db/ca.pem</rootCertPath>
      </ssl>

      <migrations>
        <enabled>false</enabled>
        <tool>flyway</tool>
        <locations>
          <location>classpath:db/migration/common</location>
        </locations>
      </migrations>
    </postgres>

    <redis name="cache">
      <mode>cluster</mode>
      <cluster>
        <nodes>
          <node>redis-c1-prod.acme.example:6379</node>
          <node>redis-c2-prod.acme.example:6379</node>
          <node>redis-c3-prod.acme.example:6379</node>
          <node>redis-c4-prod.acme.example:6379</node>
        </nodes>
      </cluster>

      <auth>
        <passwordRef>secret://redis/prod/password</passwordRef>
      </auth>

      <timeouts>
        <connectMs>1200</connectMs>
        <readMs>1800</readMs>
        <writeMs>1800</writeMs>
      </timeouts>

      <cachePolicies>
        <policy name="session">
          <ttlSeconds>3600</ttlSeconds>
          <maxEntries>400000</maxEntries>
          <eviction>volatile-lru</eviction>
        </policy>
        <policy name="featureFlags">
          <ttlSeconds>60</ttlSeconds>
          <maxEntries>100000</maxEntries>
          <eviction>allkeys-lfu</eviction>
        </policy>
        <policy name="lookup">
          <ttlSeconds>600</ttlSeconds>
          <maxEntries>800000</maxEntries>
          <eviction>allkeys-lru</eviction>
        </policy>
      </cachePolicies>
    </redis>

    <objectStore name="artifacts">
      <provider>s3</provider>
      <s3>
        <bucket>acme-orion-prod-artifacts</bucket>
        <region>ap-south-1</region>
        <endpoint>https://s3.ap-south-1.amazonaws.com</endpoint>
        <pathStyleAccess>false</pathStyleAccess>
        <serverSideEncryption>AES256</serverSideEncryption>
        <kmsKeyId>arn:aws:kms:ap-south-1:123456789012:key/abcd-ef01-2345-6789-abcd</kmsKeyId>
      </s3>

      <uploads>
        <maxFileSizeBytes>26214400</maxFileSizeBytes>
        <allowedMimeTypes>
          <mime>application/json</mime>
          <mime>application/xml</mime>
          <mime>application/zip</mime>
        </allowedMimeTypes>
      </uploads>
    </objectStore>
  </datastores>

  <messaging>
    <kafka>
      <enabled>true</enabled>
      <bootstrapServers>
        <server>kafka1-prod.acme.example:9093</server>
        <server>kafka2-prod.acme.example:9093</server>
        <server>kafka3-prod.acme.example:9093</server>
      </bootstrapServers>

      <security>
        <protocol>SASL_SSL</protocol>
        <saslMechanism>SCRAM-SHA-512</saslMechanism>
        <username>orion-prod-kafka</username>
        <passwordRef>secret://kafka/prod/password</passwordRef>
      </security>

      <topics>
        <topic name="orion.events.audit" partitions="12" replicationFactor="3"/>
        <topic name="orion.events.anomaly" partitions="24" replicationFactor="3"/>
        <topic name="orion.events.feedback" partitions="12" replicationFactor="3"/>
        <topic name="orion.events.notifications" partitions="12" replicationFactor="3"/>
      </topics>

      <producer>
        <acks>all</acks>
        <lingerMs>5</lingerMs>
        <batchSizeBytes>131072</batchSizeBytes>
        <compressionType>lz4</compressionType>
        <retries>2</retries>
        <deliveryTimeoutMs>120000</deliveryTimeoutMs>
      </producer>

      <consumer>
        <groupId>orion-prod-consumers</groupId>
        <autoOffsetReset>latest</autoOffsetReset>
        <maxPollRecords>800</maxPollRecords>
        <sessionTimeoutMs>15000</sessionTimeoutMs>
        <maxPartitionFetchBytes>2097152</maxPartitionFetchBytes>
        <concurrency>14</concurrency>
      </consumer>
    </kafka>

    <scheduler>
      <enabled>true</enabled>
      <threadPoolSize>10</threadPoolSize>
      <jobs>
        <job name="metrics-rollup">
          <cron>0 */5 * * * *</cron>
          <enabled>true</enabled>
          <retry maxAttempts="2" backoffMs="1500"/>
        </job>
        <job name="anomaly-detect">
          <cron>0 */2 * * * *</cron>
          <enabled>true</enabled>
          <retry maxAttempts="2" backoffMs="2000"/>
        </job>
        <job name="cleanup-temp">
          <cron>0 0 */12 * * *</cron>
          <enabled>true</enabled>
          <retry maxAttempts="1" backoffMs="0"/>
        </job>
        <job name="refresh-feature-flags">
          <cron>0 */1 * * * *</cron>
          <enabled>true</enabled>
          <retry maxAttempts="3" backoffMs="500"/>
        </job>
      </jobs>
    </scheduler>
  </messaging>

  <services>
    <service name="config-ingest">
      <baseUrl>https://orion.acme.example/ingest</baseUrl>
      <healthPath>/health</healthPath>
      <timeoutOverrides>
        <connectMs>1500</connectMs>
        <readMs>9000</readMs>
      </timeoutOverrides>
      <headers>
        <header name="X-Client" value="orion-core"/>
      </headers>
    </service>

    <service name="drift-analyzer">
      <baseUrl>https://orion.acme.example/analyze</baseUrl>
      <healthPath>/health</healthPath>
      <timeoutOverrides>
        <connectMs>1500</connectMs>
        <readMs>12000</readMs>
      </timeoutOverrides>
    </service>

    <service name="rca-service">
      <baseUrl>https://rca.acme.example/api</baseUrl>
      <healthPath>/actuator/health</healthPath>
      <timeoutOverrides>
        <connectMs>2000</connectMs>
        <readMs>16000</readMs>
      </timeoutOverrides>
      <auth>
        <type>service-token</type>
        <tokenRef>secret://svc/prod/rca_service_token</tokenRef>
      </auth>
    </service>

    <service name="notification-gateway">
      <baseUrl>https://notify.acme.example</baseUrl>
      <healthPath>/health</healthPath>
      <rateLimit>
        <enabled>true</enabled>
        <requestsPerMinute>900</requestsPerMinute>
        <burst>150</burst>
      </rateLimit>
    </service>

    <service name="grafana">
      <baseUrl>https://grafana.acme.example</baseUrl>
      <apiPath>/api</apiPath>
      <auth>
        <type>api-key</type>
        <apiKeyRef>secret://grafana/prod/api_key</apiKeyRef>
      </auth>
    </service>

    <service name="prometheus">
      <baseUrl>https://prometheus.acme.example</baseUrl>
      <queryPath>/api/v1/query</queryPath>
      <rangeQueryPath>/api/v1/query_range</rangeQueryPath>
      <auth>
        <type>basic</type>
        <username>orion</username>
        <passwordRef>secret://prom/prod/basic_password</passwordRef>
      </auth>
    </service>

    <service name="loki">
      <baseUrl>https://loki.acme.example</baseUrl>
      <queryPath>/loki/api/v1/query</queryPath>
      <rangeQueryPath>/loki/api/v1/query_range</rangeQueryPath>
      <auth>
        <type>basic</type>
        <username>orion</username>
        <passwordRef>secret://loki/prod/basic_password</passwordRef>
      </auth>
    </service>
  </services>

  <observability>
    <logging>
      <level>INFO</level>
      <format>json</format>
      <includeMdc>true</includeMdc>
      <maskSecrets>true</maskSecrets>
      <appenders>
        <console enabled="true"/>
        <file enabled="true">
          <path>/var/log/orion/prod/orion-app.log</path>
          <rollingPolicy>
            <maxFileSizeMB>200</maxFileSizeMB>
            <maxHistoryDays>30</maxHistoryDays>
            <totalSizeCapGB>10</totalSizeCapGB>
          </rollingPolicy>
        </file>
      </appenders>

      <loggers>
        <logger name="org.hibernate.SQL" level="WARN"/>
        <logger name="com.acme.orion.security" level="INFO"/>
        <logger name="com.acme.orion.rca" level="INFO"/>
        <logger name="com.acme.orion.drift" level="INFO"/>
        <logger name="com.acme.orion.integrations" level="INFO"/>
      </loggers>
    </logging>

    <metrics>
      <prometheus enabled="true">
        <path>/metrics</path>
        <includeJvm>true</includeJvm>
        <includeHttp>true</includeHttp>
        <includeDb>true</includeDb>
        <histograms>
          <httpServerRequests enabled="true">
            <slaBucketsMs>
              <bucket>50</bucket>
              <bucket>100</bucket>
              <bucket>250</bucket>
              <bucket>500</bucket>
              <bucket>1000</bucket>
              <bucket>2500</bucket>
            </slaBucketsMs>
          </httpServerRequests>
        </histograms>
      </prometheus>
    </metrics>

    <tracing>
      <enabled>true</enabled>
      <provider>otlp</provider>
      <sampling>
        <strategy>ratio</strategy>
        <ratio>0.10</ratio>
      </sampling>
      <otlp>
        <endpoint>https://otel-collector.acme.example:4317</endpoint>
        <headers>
          <header name="x-otlp-token" valueRef="secret://otel/prod/token"/>
        </headers>
        <tls>
          <verify>true</verify>
        </tls>
      </otlp>
    </tracing>

    <alerts>
      <enabled>true</enabled>
      <rules>
        <rule id="PROD-CPU-HIGH">
          <severity>warning</severity>
          <condition>cpu_active_pct &gt; 75 for 10m</condition>
          <notify>
            <channel>slack</channel>
            <channel>email</channel>
          </notify>
        </rule>
        <rule id="PROD-ERROR-RATE">
          <severity>critical</severity>
          <condition>http_5xx_rate &gt; 2 for 3m</condition>
          <notify>
            <channel>slack</channel>
          </notify>
        </rule>
        <rule id="PROD-QUEUE-LAG">
          <severity>critical</severity>
          <condition>kafka_consumer_lag &gt; 50000 for 10m</condition>
          <notify>
            <channel>slack</channel>
          </notify>
        </rule>
      </rules>
    </alerts>
  </observability>

  <features>
    <source>redis</source>
    <refreshSeconds>30</refreshSeconds>
    <flags>
      <flag key="ui.newDashboard" enabled="true"/>
      <flag key="ui.betaTheme" enabled="false"/>
      <flag key="drift.semanticCompare" enabled="true"/>
      <flag key="drift.ignoreWhitespace" enabled="true"/>
      <flag key="drift.ignoreOrder" enabled="true"/>
      <flag key="rca.useRagPipeline" enabled="true"/>
      <flag key="rca.attachLogs" enabled="true"/>
      <flag key="rca.attachMetrics" enabled="true"/>
      <flag key="rca.maxContextTokens" enabled="true">
        <value>6000</value>
      </flag>
      <flag key="feedback.capture" enabled="true"/>
      <flag key="feedback.publicSharing" enabled="false"/>
      <flag key="integrations.appdynamics" enabled="true"/>
      <flag key="integrations.splunk" enabled="true"/>
      <flag key="integrations.github" enabled="true"/>
      <flag key="integrations.servicenow" enabled="true"/>
      <flag key="experiments.isolationForest" enabled="false"/>
      <flag key="experiments.thresholdFallback" enabled="true"/>
    </flags>
  </features>

  <driftPolicies>
    <baseline>
      <strategy>git-signed-tag</strategy>
      <tagPrefix>baseline/prod</tagPrefix>
      <allowHotfixOverrides>false</allowHotfixOverrides>
      <requireSignature>true</requireSignature>
    </baseline>

    <comparison>
      <supportedTypes>
        <type name="xml">
          <normalize>
            <stripComments>true</stripComments>
            <trimWhitespace>true</trimWhitespace>
            <collapseRunsOfWhitespace>true</collapseRunsOfWhitespace>
            <canonicalizeEmptyElements>true</canonicalizeEmptyElements>
          </normalize>
          <semanticRules>
            <rule name="ignoreAttributeOrder" enabled="true"/>
            <rule name="ignoreNamespacePrefixes" enabled="true"/>
            <rule name="treatMissingOptionalAsDefault" enabled="true"/>
          </semanticRules>
        </type>

        <type name="json">
          <normalize>
            <sortKeys>true</sortKeys>
            <dropNulls>true</dropNulls>
            <coerceNumbers>true</coerceNumbers>
          </normalize>
          <semanticRules>
            <rule name="ignoreArrayOrder" enabled="false"/>
            <rule name="ignorePaths" enabled="true">
              <paths>
                <path>$.meta.build.gitCommit</path>
                <path>$.meta.build.buildDate</path>
              </paths>
            </rule>
          </semanticRules>
        </type>

        <type name="yaml">
          <normalize>
            <sortKeys>false</sortKeys>
            <resolveAnchors>true</resolveAnchors>
            <coerceBooleans>true</coerceBooleans>
          </normalize>
          <semanticRules>
            <rule name="ignorePaths" enabled="true">
              <paths>
                <path>meta.build.*</path>
              </paths>
            </rule>
          </semanticRules>
        </type>
      </supportedTypes>

      <severityMatrix>
        <dimension name="security">
          <critical>
            <pattern>tls.enabled changed</pattern>
            <pattern>auth.mode changed</pattern>
            <pattern>ipAllowlist.disabled</pattern>
          </critical>
          <high>
            <pattern>allowedCidrs expanded</pattern>
            <pattern>clientAuth changed</pattern>
          </high>
          <medium>
            <pattern>log.maskSecrets changed</pattern>
          </medium>
        </dimension>

        <dimension name="performance">
          <critical>
            <pattern>maxConnections decreased &gt; 50%</pattern>
            <pattern>timeouts increased &gt; 2x</pattern>
          </critical>
          <high>
            <pattern>pool.maxConnections changed</pattern>
          </high>
          <medium>
            <pattern>cache.ttl changed</pattern>
          </medium>
        </dimension>

        <dimension name="functional">
          <critical>
            <pattern>service.baseUrl changed</pattern>
            <pattern>feature.enabled changed for rca.useRagPipeline</pattern>
          </critical>
          <high>
            <pattern>topic.partitions changed</pattern>
          </high>
          <medium>
            <pattern>cron schedule changed</pattern>
          </medium>
        </dimension>
      </severityMatrix>
    </comparison>

    <reporting>
      <format>html</format>
      <includeDiffSnippets>true</includeDiffSnippets>
      <snippetContextLines>4</snippetContextLines>
      <includeRiskRationale>true</includeRiskRationale>
      <includeSuggestedRemediation>true</includeSuggestedRemediation>
      <includeOwnerHints>true</includeOwnerHints>
      <maxFindingsPerFile>2000</maxFindingsPerFile>
    </reporting>
  </driftPolicies>

  <rateLimiting>
    <enabled>true</enabled>
    <mode>token-bucket</mode>
    <storage>redis</storage>

    <globalLimits>
      <requestsPerMinute>3500</requestsPerMinute>
      <burst>700</burst>
      <perIp enabled="true">
        <requestsPerMinute>240</requestsPerMinute>
        <burst>60</burst>
      </perIp>
      <perUser enabled="true">
        <requestsPerMinute>420</requestsPerMinute>
        <burst>100</burst>
      </perUser>
    </globalLimits>

    <routes>
      <route path="/orion/api/v1/drift/compare">
        <requestsPerMinute>180</requestsPerMinute>
        <burst>40</burst>
      </route>
      <route path="/orion/api/v1/rca/analyze">
        <requestsPerMinute>120</requestsPerMinute>
        <burst>25</burst>
      </route>
      <route path="/orion/api/v1/feedback">
        <requestsPerMinute>300</requestsPerMinute>
        <burst>60</burst>
      </route>
      <route path="/orion/api/v1/admin/*">
        <requestsPerMinute>60</requestsPerMinute>
        <burst>15</burst>
        <requiresRole>admin</requiresRole>
      </route>
    </routes>
  </rateLimiting>

  <ai>
    <provider>external-api</provider>
    <modelRouting>
      <defaultModel>sonar-medium</defaultModel>
      <routes>
        <route task="rca.summary" model="sonar-medium" maxTokens="800" temperature="0.25"/>
        <route task="rca.deep" model="sonar-large" maxTokens="1200" temperature="0.2"/>
        <route task="diff.explain" model="sonar-medium" maxTokens="700" temperature="0.15"/>
        <route task="remediation.plan" model="sonar-large" maxTokens="1000" temperature="0.3"/>
      </routes>
    </modelRouting>

    <api>
      <baseUrl>https://llm.acme.example/v1</baseUrl>
      <timeoutMs>22000</timeoutMs>
      <apiKeyRef>secret://llm/prod/api_key</apiKeyRef>
      <maxConcurrentRequests>12</maxConcurrentRequests>
      <backpressure>
        <queueSize>300</queueSize>
        <rejectWhenFull>true</rejectWhenFull>
      </backpressure>
    </api>

    <prompting>
      <guardrails>
        <piiDetection enabled="true">
          <action>redact</action>
        </piiDetection>
        <secretsDetection enabled="true">
          <action>block</action>
        </secretsDetection>
        <allowedDataClasses>
          <class>metrics</class>
          <class>logs</class>
          <class>config</class>
          <class>topology</class>
        </allowedDataClasses>
      </guardrails>
    </prompting>
  </ai>

  <ui>
    <branding>
      <title>Orion</title>
      <logoPath>/static/prod/orion-logo.svg</logoPath>
      <theme>dark</theme>
    </branding>

    <session>
      <cookieName>ORION_SID</cookieName>
      <timeoutMinutes>60</timeoutMinutes>
      <sliding>true</sliding>
      <sameSite>Strict</sameSite>
      <secure>true</secure>
    </session>
  </ui>

</appConfig>
